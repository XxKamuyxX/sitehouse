---
import GlassCard from './ui/GlassCard.astro';

const painPoints = [
  {
    title: 'Travamento',
    description: 'Sistema pesado que exige for√ßa excessiva.',
    icon: 'üîí',
  },
  {
    title: 'Risco de Queda',
    description: 'Roldanas pl√°sticas colapsando silenciosamente.',
    icon: '‚ö†Ô∏è',
  },
  {
    title: 'Infiltra√ß√£o',
    description: 'Veda√ß√£o comprometida permitindo √°gua e vento.',
    icon: 'üíß',
  },
];
---

<section class="py-16 md:py-32 bg-void-black">
  <div class="container mx-auto px-4 md:px-6 lg:px-8 max-w-7xl">
    <h2 class="text-3xl md:text-4xl lg:text-5xl font-serif font-bold text-center mb-4">
      O Perigo <span class="text-gold">Invis√≠vel</span> do Desgaste.
    </h2>
    <p class="text-center text-paper-white/60 mb-12 max-w-2xl mx-auto">
      Problemas que parecem pequenos, mas representam riscos reais √† seguran√ßa.
    </p>
    
    <div class="grid md:grid-cols-3 gap-6 md:gap-8">
      {painPoints.map((point) => (
        <GlassCard class="pain-point-card group cursor-pointer">
          <div class="text-4xl mb-4">{point.icon}</div>
          <h3 class="text-xl font-serif font-bold mb-3 text-gold group-hover:text-[#F6E27A] transition-colors">
            {point.title}
          </h3>
          <p class="text-paper-white/70 leading-relaxed">
            {point.description}
          </p>
        </GlassCard>
      ))}
    </div>
  </div>
</section>

<script>
  // 3D tilt effect
  document.querySelectorAll('.pain-point-card').forEach((card) => {
    card.addEventListener('mousemove', (e: MouseEvent) => {
      const rect = (e.currentTarget as HTMLElement).getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      
      const centerX = rect.width / 2;
      const centerY = rect.height / 2;
      
      const rotateX = (y - centerY) / 10;
      const rotateY = (centerX - x) / 10;
      
      (e.currentTarget as HTMLElement).style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.02, 1.02, 1.02)`;
    });
    
    card.addEventListener('mouseleave', () => {
      (card as HTMLElement).style.transform = 'perspective(1000px) rotateX(0) rotateY(0) scale3d(1, 1, 1)';
    });
  });
</script>

<style>
  .pain-point-card {
    transition: transform 0.3s ease-out;
  }
</style>

